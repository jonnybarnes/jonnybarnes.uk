{"version":3,"sources":["newnote.js"],"names":["getLocation","navigator","geolocation","getCurrentPosition","position","addPlacesMap","coords","latitude","longitude","accuracy","uncertainty","fetch","credentials","method","then","response","json","j","error","alertify","reset","error_description","places","length","i","latlng","parseLocation","location","name","slug","push","addMap","catch","err","console","arguments","form","button","parentNode","div","document","createElement","setAttribute","appendChild","L","mapbox","accessToken","map","setView","addLayer","tileLayer","detectRetina","marker","draggable","addTo","on","placeFormLatitude","querySelector","value","getLatitudeFromMapboxMarker","getLatLng","placeFormLongitude","getLongitudeFromMapboxMarker","selectEl","noLocation","noLocText","createTextNode","insertBefore","forEach","item","option","text","dataset","placeMarker","icon","marker-size","marker-symbol","marker-color","bindPopup","closeButton","panTo","selectPlace","addEventListener","placeLat","selectedIndex","placeLon","newLocButton","nameLabel","classList","add","nameEl","descLabel","descEl","latLabel","latEl","lonLabel","lonEl","placeSubmit","formData","FormData","append","body","placeJson","Error","urlParts","split","pop","removeChild","labels","querySelectorAll","removeLayer","newOption","newPlaceMarker","newName","placeError","point","re","resultArray","exec","selected","replace","disabled"],"mappings":"AAWA,QAASA,eACLC,UAAUC,YAAYC,mBAAmB,SAAUC,GAE/CC,aAAaD,EAASE,OAAOC,SAAUH,EAASE,OAAOE,UAAWJ,EAASE,OAAOG,YAI1F,QAASJ,cAAaE,EAAUC,EAAWE,GAEvCC,MAAM,gBAAkBJ,EAAW,IAAMC,EAAY,MAAQE,GACzDE,YAAa,cACbC,OAAQ,QACTC,KAAK,SAAUC,GACd,MAAOA,GAASC,SACjBF,KAAK,SAAUG,GAKd,GAJe,GAAXA,EAAEC,QACFC,SAASC,QACTD,SAASD,MAAMD,EAAEI,oBAEjBJ,EAAEK,OAAOC,OAAS,EAAG,CACrB,GAAIC,GACAF,IACJ,KAAKE,EAAI,EAAGA,EAAIP,EAAEK,OAAOC,SAAUC,EAAG,CAClC,GAAIC,GAASC,cAAcT,EAAEK,OAAOE,GAAGG,UACnCC,EAAOX,EAAEK,OAAOE,GAAGI,KACnBC,EAAOZ,EAAEK,OAAOE,GAAGK,IACvBP,GAAOQ,MAAMF,EAAMC,EAAMJ,EAAO,GAAIA,EAAO,KAG/CM,OAAOxB,EAAUC,EAAWc,OAG5BS,QAAOxB,EAAUC,KAEtBwB,MAAM,SAAUC,GACfC,QAAQhB,MAAMe,KAItB,QAASF,QAAOxB,EAAUC,EAAWc,GAET,GAApBa,UAAUZ,SACVD,EAAS,KAEb,IAAIc,GAAOC,OAAOC,WACdC,EAAMC,SAASC,cAAc,MACjCF,GAAIG,aAAa,KAAM,OAEvBN,EAAKO,YAAYJ,GACjBK,EAAEC,OAAOC,YAAc,wEACvB,IAAIC,GAAMH,EAAEC,OAAOE,IAAI,MAAO,wBACzBC,SAASzC,EAAUC,GAAY,IAC/ByC,SAASL,EAAEC,OAAOK,UAAU,wBACzBC,cAAc,KAGlBC,EAASR,EAAEQ,QAAQ7C,EAAUC,IAC7B6C,WAAW,IACZC,MAAMP,EAGTK,GAAOG,GAAG,UAAW,WACjB,GAAIC,GAAoBhB,SAASiB,cAAc,kBACrB,QAAtBD,IACAA,EAAkBE,MAAQC,4BAA4BP,EAAOQ,aAEjE,IAAIC,GAAqBrB,SAASiB,cAAc,mBACrB,QAAvBI,IACAA,EAAmBH,MAAQI,6BAA6BV,EAAOQ,eAIvE,IAAIG,GAAWvB,SAASC,cAAc,SACtCsB,GAASrB,aAAa,OAAQ,WAC9B,IAAIsB,GAAaxB,SAASC,cAAc,SACxCuB,GAAWtB,aAAa,WAAY,YACpCsB,EAAWtB,aAAa,QAAS,cACjC,IAAIuB,GAAYzB,SAAS0B,eAAe,qBACxCF,GAAWrB,YAAYsB,GACvBF,EAASpB,YAAYqB,GACrB5B,EAAK+B,aAAaJ,EAAUxB,GACb,OAAXjB,IAEAA,EAAO8C,QAAQ,SAAUC,GACrB,GAAIC,GAAS9B,SAASC,cAAc,SACpC6B,GAAO5B,aAAa,QAAS2B,EAAK,GAClC,IAAIE,GAAO/B,SAAS0B,eAAeG,EAAK,GACxCC,GAAO3B,YAAY4B,GACnBD,EAAOE,QAAQjE,SAAW8D,EAAK,GAC/BC,EAAOE,QAAQhE,UAAY6D,EAAK,GAChCN,EAASpB,YAAY2B,EACrB,IAAIG,GAAc7B,EAAEQ,QAAQiB,EAAK,GAAIA,EAAK,KACtCK,KAAM9B,EAAEC,OAAOO,OAAOsB,MAClBC,cAAe,QACfC,gBAAiB,WACjBC,eAAgB,WAErBvB,MAAMP,GACLnB,EAAO,SAAWyC,EAAK,EAC3BI,GAAYK,UAAUlD,GAClBmD,aAAa,IAEjBN,EAAYlB,GAAG,QAAS,WACpBR,EAAIiC,OAAOX,EAAK,GAAIA,EAAK,KACzBY,YAAYZ,EAAK,QAIzBN,EAASmB,iBAAiB,SAAU,WAChC,GAAuB,gBAAnBnB,EAASL,MAAyB,CAClC,GAAIyB,GAAWpB,EAASA,EAASqB,eAAeZ,QAAQjE,SACpD8E,EAAWtB,EAASA,EAASqB,eAAeZ,QAAQhE,SACxDuC,GAAIiC,OAAOG,EAAUE,OAKjC,IAAIC,GAAe9C,SAASC,cAAc,SAC1C6C,GAAa5C,aAAa,OAAQ,UAClC4C,EAAa5C,aAAa,KAAM,oBAChC4C,EAAa3C,YAAYH,SAAS0B,eAAe,sBAEjDoB,EAAaJ,iBAAiB,QAAS,WAEnC,GAAIK,GAAY/C,SAASC,cAAc,QACvC8C,GAAU7C,aAAa,MAAO,cAC9B6C,EAAUC,UAAUC,IAAI,eACxBF,EAAU5C,YAAYH,SAAS0B,eAAe,eAC9C,IAAIwB,GAASlD,SAASC,cAAc,QACpCiD,GAAOhD,aAAa,cAAe,QACnCgD,EAAOhD,aAAa,OAAQ,cAC5BgD,EAAOhD,aAAa,KAAM,cAC1BgD,EAAOhD,aAAa,OAAQ,OAC5B,IAAIiD,GAAYnD,SAASC,cAAc,QACvCkD,GAAUjD,aAAa,MAAO,qBAC9BiD,EAAUH,UAAUC,IAAI,eACxBE,EAAUhD,YAAYH,SAAS0B,eAAe,sBAC9C,IAAI0B,GAASpD,SAASC,cAAc,QACpCmD,GAAOlD,aAAa,cAAe,eACnCkD,EAAOlD,aAAa,OAAQ,qBAC5BkD,EAAOlD,aAAa,KAAM,qBAC1BkD,EAAOlD,aAAa,OAAQ,OAC5B,IAAImD,GAAWrD,SAASC,cAAc,QACtCoD,GAASnD,aAAa,MAAO,kBAC7BmD,EAASL,UAAUC,IAAI,eACvBI,EAASlD,YAAYH,SAAS0B,eAAe,mBAC7C,IAAI4B,GAAQtD,SAASC,cAAc,QACnCqD,GAAMpD,aAAa,OAAQ,kBAC3BoD,EAAMpD,aAAa,KAAM,kBACzBoD,EAAMpD,aAAa,OAAQ,QAC3BoD,EAAMpC,MAAQC,4BAA4BP,EAAOQ,YACjD,IAAImC,GAAWvD,SAASC,cAAc,QACtCsD,GAASrD,aAAa,MAAO,mBAC7BqD,EAASP,UAAUC,IAAI,eACvBM,EAASpD,YAAYH,SAAS0B,eAAe,oBAC7C,IAAI8B,GAAQxD,SAASC,cAAc,QACnCuD,GAAMtD,aAAa,OAAQ,mBAC3BsD,EAAMtD,aAAa,KAAM,mBACzBsD,EAAMtD,aAAa,OAAQ,QAC3BsD,EAAMtC,MAAQI,6BAA6BV,EAAOQ,YAClD,IAAIqC,GAAczD,SAASC,cAAc,SACzCwD,GAAYvD,aAAa,KAAM,gBAC/BuD,EAAYvD,aAAa,QAAS,oBAClCuD,EAAYvD,aAAa,OAAQ,gBACjCuD,EAAYvD,aAAa,OAAQ,UACjCuD,EAAYtD,YAAYH,SAAS0B,eAAe,qBAChD9B,EAAKO,YAAY4C,GACjBnD,EAAKO,YAAY+C,GACjBtD,EAAKO,YAAYgD,GACjBvD,EAAKO,YAAYiD,GACjBxD,EAAKO,YAAYkD,GACjBzD,EAAKO,YAAYmD,GACjB1D,EAAKO,YAAYoD,GACjB3D,EAAKO,YAAYqD,GACjB5D,EAAKO,YAAYsD,GAEjBA,EAAYf,iBAAiB,QAAS,WAElC,GAAIgB,GAAW,GAAIC,SACnBD,GAASE,OAAO,aAAc5D,SAASiB,cAAc,eAAeC,OACpEwC,EAASE,OAAO,oBAAqB5D,SAASiB,cAAc,sBAAsBC,OAClFwC,EAASE,OAAO,iBAAkB5D,SAASiB,cAAc,mBAAmBC,OAC5EwC,EAASE,OAAO,kBAAmB5D,SAASiB,cAAc,oBAAoBC,OAE9E/C,MAAM,eAEFC,YAAa,cACbC,OAAQ,OACRwF,KAAMH,IAETpF,KAAK,SAAUC,GACZ,MAAOA,GAASC,SAEnBF,KAAK,SAAUwF,GACZ,GAAuB,GAAnBA,EAAUpF,MACV,KAAM,IAAIqF,OAAMD,EAAUjF,kBAG9B,IAAImF,GAAWF,EAAUG,MAAM,KAC3B5E,EAAO2E,EAASE,KAEpBtE,GAAKuE,YAAYnE,SAASiB,cAAc,gBACxCrB,EAAKuE,YAAYnE,SAASiB,cAAc,uBACxCrB,EAAKuE,YAAYnE,SAASiB,cAAc,oBACxCrB,EAAKuE,YAAYnE,SAASiB,cAAc,oBAExC,KAAK,GADDmD,GAASpE,SAASqE,iBAAiB,gBAC9BrF,EAAI,EAAGA,EAAIoF,EAAOrF,SAAUC,EACjCY,EAAKuE,YAAYC,EAAOpF,GAE5BY,GAAKuE,YAAYnE,SAASiB,cAAc,kBACxCrB,EAAKuE,YAAYnE,SAASiB,cAAc,sBAExCV,EAAI+D,YAAY1D,EAEhB,IAAI2D,GAAYvE,SAASC,cAAc,SACvCsE,GAAUrE,aAAa,QAASb,GAChCkF,EAAUpE,YAAYH,SAAS0B,eAAeoC,EAAgB,OAC9DS,EAAUvC,QAAQjE,SAAW+F,EAAoB,SACjDS,EAAUvC,QAAQhE,UAAY8F,EAAqB,UACnDvC,EAASpB,YAAYoE,EACrB,IAAIC,GAAiBpE,EAAEQ,QAAQkD,EAAoB,SAAGA,EAAqB,YACvE5B,KAAM9B,EAAEC,OAAOO,OAAOsB,MAClBC,cAAe,QACfC,gBAAiB,WACjBC,eAAgB,WAErBvB,MAAMP,GACLkE,EAAU,SAAWX,EAAgB,IACzCU,GAAelC,UAAUmC,GACrBlC,aAAa,IAEjBiC,EAAezD,GAAG,QAAS,WACvBR,EAAIiC,OAAOsB,EAAoB,SAAGA,EAAqB,YACvDrB,YAAYpD,KAGhBoD,YAAYpD,KACbG,MAAM,SAAUkF,GACf/F,SAASC,QACTD,SAASD,MAAMgG,SAI3B9E,EAAK+B,aAAamB,EAAc/C,GAGpC,QAASb,eAAcyF,GACnB,GAAIC,GAAK,WACLC,EAAcD,EAAGE,KAAKH,GACtBxF,EAAW0F,EAAY,GAAGZ,MAAM,IAEpC,QAAQ9E,EAAS,GAAIA,EAAS,IAGlC,QAASsD,aAAYpD,GACjBW,SAASiB,cAAc,iBAAmB5B,EAAO,KAAK0F,UAAW,EAGrE,QAAS5D,6BAA4BlC,GACjC,GAAI4F,GAAc,WAAWC,KAAK7F,GAC9BE,EAAW0F,EAAY,GAAGZ,MAAM,IAEpC,OAAO9E,GAAS,GAAG6F,QAAQ,IAAK,IAGpC,QAAS1D,8BAA6BrC,GAClC,GAAI4F,GAAc,WAAWC,KAAK7F,GAC9BE,EAAW0F,EAAY,GAAGZ,MAAM,IAEpC,OAAO9E,GAAS,GAvRpB,GAAI,eAAiB1B,WAAW,CAC5B,GAAIoC,QAASG,SAASiB,cAAc,UAChCpB,QAAO6C,mBAGP7C,OAAOoF,UAAW,EAClBpF,OAAO6C,iBAAiB,QAASlF","file":"newnote.js","sourcesContent":["/* global L, alertify */\nif ('geolocation' in navigator) {\n    var button = document.querySelector('#locate');\n    if (button.addEventListener) {\n        //if we have javascript, event listeners and geolocation, make the locate\n        //button clickable and add event\n        button.disabled = false;\n        button.addEventListener('click', getLocation);\n    }\n}\n\nfunction getLocation() {\n    navigator.geolocation.getCurrentPosition(function (position) {\n        //the locate button has been clicked so add the places/map\n        addPlacesMap(position.coords.latitude, position.coords.longitude, position.coords.accuracy);\n    });\n}\n\nfunction addPlacesMap(latitude, longitude, uncertainty) {\n    //get the nearby places\n    fetch('/places/near/' + latitude + '/' + longitude + '?u=' + uncertainty, {\n        credentials: 'same-origin',\n        method: 'get'\n    }).then(function (response) {\n        return response.json();\n    }).then(function (j) {\n        if (j.error == true) {\n            alertify.reset();\n            alertify.error(j.error_description);\n        }\n        if (j.places.length > 0) {\n            var i;\n            var places = [];\n            for (i = 0; i < j.places.length; ++i) {\n                var latlng = parseLocation(j.places[i].location);\n                var name = j.places[i].name;\n                var slug = j.places[i].slug;\n                places.push([name, slug, latlng[0], latlng[1]]);\n            }\n            //add a map with the nearby places\n            addMap(latitude, longitude, places);\n        } else {\n            //add a map with just current location\n            addMap(latitude, longitude);\n        }\n    }).catch(function (err) {\n        console.error(err);\n    });\n}\n\nfunction addMap(latitude, longitude, places) {\n    //make places null if not supplied\n    if (arguments.length == 2) {\n        places = null;\n    }\n    var form = button.parentNode;\n    var div = document.createElement('div');\n    div.setAttribute('id', 'map');\n    //add the map div\n    form.appendChild(div);\n    L.mapbox.accessToken = 'pk.eyJ1Ijoiam9ubnliYXJuZXMiLCJhIjoiVlpndW1EYyJ9.aP9fxAqLKh7lj0LpFh5k1w';\n    var map = L.mapbox.map('map', 'jonnybarnes.gnoihnim')\n        .setView([latitude, longitude], 15)\n        .addLayer(L.mapbox.tileLayer('jonnybarnes.gnoihnim', {\n            detectRetina: true\n        }));\n    //add a marker for the current location\n    var marker = L.marker([latitude, longitude], {\n        draggable: true\n    }).addTo(map);\n    //when the location marker is dragged, if the new place form elements exist\n    //update the lat/lng values\n    marker.on('dragend', function () {\n        var placeFormLatitude = document.querySelector('#place-latitude');\n        if (placeFormLatitude !== null) {\n            placeFormLatitude.value = getLatitudeFromMapboxMarker(marker.getLatLng());\n        }\n        var placeFormLongitude = document.querySelector('#place-longitude');\n        if (placeFormLongitude !== null) {\n            placeFormLongitude.value = getLongitudeFromMapboxMarker(marker.getLatLng());\n        }\n    });\n    //create the <select> element and give it a no location default\n    var selectEl = document.createElement('select');\n    selectEl.setAttribute('name', 'location');\n    var noLocation = document.createElement('option');\n    noLocation.setAttribute('selected', 'selected');\n    noLocation.setAttribute('value', 'no-location');\n    var noLocText = document.createTextNode('Select no location');\n    noLocation.appendChild(noLocText);\n    selectEl.appendChild(noLocation);\n    form.insertBefore(selectEl, div);\n    if (places !== null) {\n        //add the places both to the map and <select>\n        places.forEach(function (item) {\n            var option = document.createElement('option');\n            option.setAttribute('value', item[1]);\n            var text = document.createTextNode(item[0]);\n            option.appendChild(text);\n            option.dataset.latitude = item[2];\n            option.dataset.longitude = item[3];\n            selectEl.appendChild(option);\n            var placeMarker = L.marker([item[2], item[3]], {\n                icon: L.mapbox.marker.icon({\n                    'marker-size': 'large',\n                    'marker-symbol': 'building',\n                    'marker-color': '#fa0'\n                })\n            }).addTo(map);\n            var name = 'Name: ' + item[0];\n            placeMarker.bindPopup(name, {\n                closeButton: true\n            });\n            placeMarker.on('click', function () {\n                map.panTo([item[2], item[3]]);\n                selectPlace(item[1]);\n            });\n        });\n        //add an event listener\n        selectEl.addEventListener('change', function () {\n            if (selectEl.value !== 'no-location') {\n                var placeLat = selectEl[selectEl.selectedIndex].dataset.latitude;\n                var placeLon = selectEl[selectEl.selectedIndex].dataset.longitude;\n                map.panTo([placeLat, placeLon]);\n            }\n        });\n    }\n    //add a button to add a new place\n    var newLocButton = document.createElement('button');\n    newLocButton.setAttribute('type', 'button');\n    newLocButton.setAttribute('id', 'create-new-place');\n    newLocButton.appendChild(document.createTextNode('Create New Place?'));\n    //the event listener\n    newLocButton.addEventListener('click', function() {\n        //add the form elements\n        var nameLabel = document.createElement('label');\n        nameLabel.setAttribute('for', 'place-name');\n        nameLabel.classList.add('place-label');\n        nameLabel.appendChild(document.createTextNode('Place Name:'));\n        var nameEl = document.createElement('input');\n        nameEl.setAttribute('placeholder', 'Name');\n        nameEl.setAttribute('name', 'place-name');\n        nameEl.setAttribute('id', 'place-name');\n        nameEl.setAttribute('type', 'text');\n        var descLabel = document.createElement('label');\n        descLabel.setAttribute('for', 'place-description');\n        descLabel.classList.add('place-label');\n        descLabel.appendChild(document.createTextNode('Place Description:'));\n        var descEl = document.createElement('input');\n        descEl.setAttribute('placeholder', 'Description');\n        descEl.setAttribute('name', 'place-description');\n        descEl.setAttribute('id', 'place-description');\n        descEl.setAttribute('type', 'text');\n        var latLabel = document.createElement('label');\n        latLabel.setAttribute('for', 'place-latitude');\n        latLabel.classList.add('place-label');\n        latLabel.appendChild(document.createTextNode('Place Latitude:'));\n        var latEl = document.createElement('input');\n        latEl.setAttribute('name', 'place-latitude');\n        latEl.setAttribute('id', 'place-latitude');\n        latEl.setAttribute('type', 'text');\n        latEl.value = getLatitudeFromMapboxMarker(marker.getLatLng());\n        var lonLabel = document.createElement('label');\n        lonLabel.setAttribute('for', 'place-longitude');\n        lonLabel.classList.add('place-label');\n        lonLabel.appendChild(document.createTextNode('Place Longitude:'));\n        var lonEl = document.createElement('input');\n        lonEl.setAttribute('name', 'place-longitude');\n        lonEl.setAttribute('id', 'place-longitude');\n        lonEl.setAttribute('type', 'text');\n        lonEl.value = getLongitudeFromMapboxMarker(marker.getLatLng());\n        var placeSubmit = document.createElement('button');\n        placeSubmit.setAttribute('id', 'place-submit');\n        placeSubmit.setAttribute('value', 'Submit New Place');\n        placeSubmit.setAttribute('name', 'place-submit');\n        placeSubmit.setAttribute('type', 'button');\n        placeSubmit.appendChild(document.createTextNode('Submit New Place'));\n        form.appendChild(nameLabel);\n        form.appendChild(nameEl);\n        form.appendChild(descLabel);\n        form.appendChild(descEl);\n        form.appendChild(latLabel);\n        form.appendChild(latEl);\n        form.appendChild(lonLabel);\n        form.appendChild(lonEl);\n        form.appendChild(placeSubmit);\n        //the event listener for the new place form\n        placeSubmit.addEventListener('click', function () {\n            //create the form data to send\n            var formData = new FormData();\n            formData.append('place-name', document.querySelector('#place-name').value);\n            formData.append('place-description', document.querySelector('#place-description').value);\n            formData.append('place-latitude', document.querySelector('#place-latitude').value);\n            formData.append('place-longitude', document.querySelector('#place-longitude').value);\n            //post the new place\n            fetch('/places/new', {\n                //send cookies with the request\n                credentials: 'same-origin',\n                method: 'post',\n                body: formData\n            })\n            .then(function (response) {\n                return response.json();\n            })\n            .then(function (placeJson) {\n                if (placeJson.error == true) {\n                    throw new Error(placeJson.error_description);\n                }\n                //create the slug from the url\n                var urlParts = placeJson.split('/');\n                var slug = urlParts.pop();\n                //remove un-needed form elements\n                form.removeChild(document.querySelector('#place-name'));\n                form.removeChild(document.querySelector('#place-description'));\n                form.removeChild(document.querySelector('#place-latitude'));\n                form.removeChild(document.querySelector('#place-longitude'));\n                var labels = document.querySelectorAll('.place-label');\n                for (var i = 0; i < labels.length; ++i) {\n                    form.removeChild(labels[i]);\n                }\n                form.removeChild(document.querySelector('#place-submit'));\n                form.removeChild(document.querySelector('#create-new-place'));\n                //remove location marker\n                map.removeLayer(marker);\n                //add place marker\n                var newOption = document.createElement('option');\n                newOption.setAttribute('value', slug);\n                newOption.appendChild(document.createTextNode(placeJson['name']));\n                newOption.dataset.latitude = placeJson['latitude'];\n                newOption.dataset.longitude = placeJson['longitude'];\n                selectEl.appendChild(newOption);\n                var newPlaceMarker = L.marker([placeJson['latitude'], placeJson['longitude']], {\n                    icon: L.mapbox.marker.icon({\n                        'marker-size': 'large',\n                        'marker-symbol': 'building',\n                        'marker-color': '#fa0'\n                    })\n                }).addTo(map);\n                var newName = 'Name: ' + placeJson['name'];\n                newPlaceMarker.bindPopup(newName, {\n                    closeButton: true\n                });\n                newPlaceMarker.on('click', function () {\n                    map.panTo([placeJson['latitude'], placeJson['longitude']]);\n                    selectPlace(slug);\n                });\n                //make selected\n                selectPlace(slug);\n            }).catch(function (placeError) {\n                alertify.reset();\n                alertify.error(placeError);\n            });\n        });\n    });\n    form.insertBefore(newLocButton, div);\n}\n\nfunction parseLocation(point) {\n    var re = /\\((.*)\\)/;\n    var resultArray = re.exec(point);\n    var location = resultArray[1].split(' ');\n\n    return [location[1], location[0]];\n}\n\nfunction selectPlace(slug) {\n    document.querySelector('select [value=' + slug + ']').selected = true;\n}\n\nfunction getLatitudeFromMapboxMarker(latlng) {\n    var resultArray = /\\((.*)\\)/.exec(latlng);\n    var location = resultArray[1].split(' ');\n\n    return location[0].replace(',', '');\n}\n\nfunction getLongitudeFromMapboxMarker(latlng) {\n    var resultArray = /\\((.*)\\)/.exec(latlng);\n    var location = resultArray[1].split(' ');\n\n    return location[1];\n}\n"],"sourceRoot":"/source/"}