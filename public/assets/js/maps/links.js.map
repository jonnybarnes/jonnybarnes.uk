{"version":3,"sources":["links.js"],"names":["autolinker","Autolinker","ytidregex","spotifyregex","notes","document","querySelectorAll","i","length","ytid","textContent","match","yid","yiframe","createElement","classList","add","setAttribute","appendChild","spotifyid","sid","replace","siframe","orig","innerHTML","linked","link"],"mappings":"AAWA,IAAK,GATDA,YAAa,GAAIC,YAGjBC,UAAY,6BAEZC,aAAe,wCAGfC,MAAQC,SAASC,iBAAiB,cAC7BC,EAAI,EAAGA,EAAIH,MAAMI,OAAQD,IAAK,CAEnC,GAAIE,MAAOL,MAAMG,GAAGG,YAAYC,MAAMT,UACtC,IAAa,OAATO,KAAe,CACf,GAAIG,KAAMH,KAAK,GACXI,QAAUR,SAASS,cAAc,SACrCD,SAAQE,UAAUC,IAAI,WACtBH,QAAQI,aAAa,MAAO,2BAA6BL,KACzDC,QAAQI,aAAa,cAAe,GACpCJ,QAAQI,aAAa,kBAAmB,QACxCb,MAAMG,GAAGW,YAAYL,SAGzB,GAAIM,WAAYf,MAAMG,GAAGG,YAAYC,MAAMR,aAC3C,IAAkB,OAAdgB,UAAoB,CACpB,GAAIC,KAAMD,UAAU,GAAGE,QAAQ,IAAK,KAChCC,QAAUjB,SAASS,cAAc,SACrCQ,SAAQP,UAAUC,IAAI,WACtBM,QAAQL,aAAa,MAAO,0CAA4CG,KACxEE,QAAQL,aAAa,cAAe,GACpCK,QAAQL,aAAa,oBAAqB,QAC1Cb,MAAMG,GAAGW,YAAYI,SAGzB,GAAIC,MAAOnB,MAAMG,GAAGiB,UAChBC,OAASzB,WAAW0B,KAAKH,KAC7BnB,OAAMG,GAAGiB,UAAYC","file":"../links.js","sourcesContent":["/* global Autolinker */\n//the autlinker object\nvar autolinker = new Autolinker();\n\n//the youtube regex\nvar ytidregex = /watch\\?v=([A-Za-z0-9\\-_]+)/;\n\nvar spotifyregex = /https\\:\\/\\/play\\.spotify\\.com\\/(.*)\\b/;\n\n//grab the notes and loop through them\nvar notes = document.querySelectorAll('.e-content');\nfor (var i = 0; i < notes.length; i++) {\n    //get Youtube ID\n    var ytid = notes[i].textContent.match(ytidregex);\n    if (ytid !== null) {\n        var yid = ytid[1];\n        var yiframe = document.createElement('iframe');\n        yiframe.classList.add('youtube');\n        yiframe.setAttribute('src', '//www.youtube.com/embed/' + yid);\n        yiframe.setAttribute('frameborder', 0);\n        yiframe.setAttribute('allowfullscreen', 'true');\n        notes[i].appendChild(yiframe);\n    }\n    //get Spotify ID\n    var spotifyid = notes[i].textContent.match(spotifyregex);\n    if (spotifyid !== null) {\n        var sid = spotifyid[1].replace('/', ':');\n        var siframe = document.createElement('iframe');\n        siframe.classList.add('spotify');\n        siframe.setAttribute('src', 'https://embed.spotify.com/?uri=spotify:' + sid);\n        siframe.setAttribute('frameborder', 0);\n        siframe.setAttribute('allowtransparency', 'true');\n        notes[i].appendChild(siframe);\n    }\n    //now linkify everything\n    var orig = notes[i].innerHTML;\n    var linked = autolinker.link(orig);\n    notes[i].innerHTML = linked;\n}\n"]}