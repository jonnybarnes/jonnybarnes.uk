{"version":3,"sources":["newplace.js"],"names":["getLocation","navigator","geolocation","getCurrentPosition","position","updateForm","coords","latitude","longitude","addMap","inputLatitude","document","querySelector","inputLongitude","value","form","div","createElement","setAttribute","appendChild","L","mapbox","accessToken","map","setView","addLayer","tileLayer","detectRetina","marker","draggable","addTo","on","markerLocation","getLatLng","lat","lng","button","addEventListener","attachEvent"],"mappings":"AASA,QAASA,eACD,eAAiBC,YACjBA,UAAUC,YAAYC,mBAAmB,SAASC,GAC9CC,WAAWD,EAASE,OAAOC,SAAUH,EAASE,OAAOE,WACrDC,OAAOL,EAASE,OAAOC,SAAUH,EAASE,OAAOE,aAK7D,QAASH,YAAWE,EAAUC,GAC1B,GAAIE,GAAgBC,SAASC,cAAc,aACvCC,EAAiBF,SAASC,cAAc,aAC5CF,GAAcI,MAAQP,EACtBM,EAAeC,MAAQN,EAG3B,QAASC,QAAOF,EAAUC,GACtB,GAAIO,GAAOJ,SAASC,cAAc,QAC9BI,EAAML,SAASM,cAAc,MACjCD,GAAIE,aAAa,KAAM,OACvBH,EAAKI,YAAYH,GACjBI,EAAEC,OAAOC,YAAc,wEACvB,IAAIC,GAAMH,EAAEC,OAAOE,IAAI,MAAO,wBACzBC,SAASjB,EAAUC,GAAY,IAC/BiB,SAASL,EAAEC,OAAOK,UAAU,wBACzBC,cAAc,KAElBC,EAASR,EAAEQ,QAAQrB,EAAUC,IAC7BqB,WAAW,IACZC,MAAMP,EACTK,GAAOG,GAAG,UAAW,WACjB,GAAIC,GAAiBJ,EAAOK,WAC5B5B,YAAW2B,EAAeE,IAAKF,EAAeG,OAxCtD,GAAIC,QAASzB,SAASC,cAAc,UAEhCwB,QAAOC,iBACPD,OAAOC,iBAAiB,QAASrC,aAEjCoC,OAAOE,YAAY,UAAWtC","file":"../newplace.js","sourcesContent":["/* global L */\nvar button = document.querySelector('#locate');\n\nif (button.addEventListener) {\n    button.addEventListener('click', getLocation);\n} else {\n    button.attachEvent('onclick', getLocation);\n}\n\nfunction getLocation() {\n    if ('geolocation' in navigator) {\n        navigator.geolocation.getCurrentPosition(function(position) {\n            updateForm(position.coords.latitude, position.coords.longitude);\n            addMap(position.coords.latitude, position.coords.longitude);\n        });\n    }\n}\n\nfunction updateForm(latitude, longitude) {\n    var inputLatitude = document.querySelector('#latitude');\n    var inputLongitude = document.querySelector('#longitude');\n    inputLatitude.value = latitude;\n    inputLongitude.value = longitude;\n}\n\nfunction addMap(latitude, longitude) {\n    var form = document.querySelector('form');\n    var div = document.createElement('div');\n    div.setAttribute('id', 'map');\n    form.appendChild(div);\n    L.mapbox.accessToken = 'pk.eyJ1Ijoiam9ubnliYXJuZXMiLCJhIjoiVlpndW1EYyJ9.aP9fxAqLKh7lj0LpFh5k1w';\n    var map = L.mapbox.map('map', 'jonnybarnes.gnoihnim')\n        .setView([latitude, longitude], 15)\n        .addLayer(L.mapbox.tileLayer('jonnybarnes.gnoihnim', {\n            detectRetina: true\n        }));\n    var marker = L.marker([latitude, longitude], {\n        draggable: true\n    }).addTo(map);\n    marker.on('dragend', function () {\n        var markerLocation = marker.getLatLng();\n        updateForm(markerLocation.lat, markerLocation.lng);\n    });\n}\n"]}