{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///parse-location.js","webpack:///mapbox-utils.js","webpack:///select-place.js","webpack:///places.js","webpack:///edit-place-icon.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","0","e","parseLocation","text","coords","exec","parsedLongitude","split","latitude","longitude","mapboxgl","accessToken","getId","map","href","_container","parentNode","querySelector","getAttribute","substr","lastIndexOf","addMapTypeOption","menu","option","checked","arguments","length","div","document","createElement","input","id","setAttribute","addEventListener","source","getSource","setStyle","on","addLayer","type","data","_data","layout","icon-image","text-field","text-offset","label","appendChild","createTextNode","_ref","_ref2","_toArray","first","rest","slice","toUpperCase","join","toLowerCase","makeMapMenu","mapMenu","legend","title","classList","add","addMap","position","places","dataLatitude","dataset","dataLongitude","dataName","dataMarker","marker","features","geometry","coordinates","properties","icon","uri","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","place","placeLongitude","location","placeLatitude","push","slug","err","return","Map","container","style","center","zoom","scrollZoom","disable","addControl","NavigationControl","queryRenderedFeatures","point","layer","flyTo","selected","bounds","LngLatBounds","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","feature","extend","fitBounds","padding","isDragging","isCursorOverPoint","canvas","getCanvasContainer","onMove","lngLat","cursor","lng","lat","setData","onUp","latInput","lonInput","toPrecision","off","newIcon","dragPan","enable","once"],"mappings":"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","file":"public/assets/js/places.js.map","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","//parse-location.js\n\n//text = `POINT(lon lat)`\nexport default function parseLocation(text) {\n    let coords = /POINT\\((.*)\\)/.exec(text);\n    let parsedLongitude = coords[1].split(' ')[0];\n    let parsedLatitude = coords[1].split(' ')[1];\n\n    return {'latitude': parsedLatitude, 'longitude': parsedLongitude};\n}\n","//mapbox-utils.js\nimport parseLocation from './parse-location';\nimport selectPlaceInForm from './select-place';\n\n// eslint-disable-next-line no-undef\nmapboxgl.accessToken = 'pk.eyJ1Ijoiam9ubnliYXJuZXMiLCJhIjoiY2l2cDhjYW04MDAwcjJ0cG1uZnhqcm82ayJ9.qA2zeVA-nsoMh9IFrd5KQw';\n\n// Define some functions to be used in the default function.\nconst titlecase = (string) => {\n    return string.split('-').map(([first,...rest]) => first.toUpperCase() + rest.join('').toLowerCase()).join(' ');\n};\n\n// Get the ID for the map, i.e. get the u-url of the containing note.\nconst getId = (map) => {\n    let href = map._container.parentNode.querySelector('.u-url').getAttribute('href');\n    return href.substr(href.lastIndexOf('/') + 1);\n};\n\nconst addMapTypeOption = (map, menu, option, checked = false) => {\n    let div = document.createElement('div');\n    let input = document.createElement('input');\n    let id = option + getId(map);\n    input.setAttribute('id', id);\n    input.setAttribute('type', 'radio');\n    input.setAttribute('name', 'map' + getId(map));\n    input.setAttribute('value', option);\n    if (checked == true) {\n        input.setAttribute('checked', 'checked');\n    }\n    input.addEventListener('click', function () {\n        let source = map.getSource('points');\n        map.setStyle('mapbox://styles/mapbox/' + option + '-v9');\n        map.on('style.load', function () {\n            map.addLayer({\n                'id': 'points',\n                'type': 'symbol',\n                'source': {\n                    'type': 'geojson',\n                    'data': source._data\n                },\n                'layout': {\n                    'icon-image': '{icon}-15',\n                    'text-field': '{title}',\n                    'text-offset': [0, 1]\n                }\n            });\n        });\n    });\n    let label = document.createElement('label');\n    label.setAttribute('for', option + getId(map));\n    label.appendChild(document.createTextNode(titlecase(option)));\n    div.appendChild(input);\n    div.appendChild(label);\n    menu.appendChild(div);\n};\n\nconst makeMapMenu = (map) => {\n    let mapMenu = document.createElement('fieldset');\n    let legend = document.createElement('legend');\n    let title = document.createTextNode('Map Style');\n    legend.appendChild(title);\n    mapMenu.appendChild(legend);\n    mapMenu.classList.add('map-menu');\n    addMapTypeOption(map, mapMenu, 'streets', true);\n    addMapTypeOption(map, mapMenu, 'satellite-streets');\n    return mapMenu;\n};\n\n// The main function.\nexport default function addMap(div, position = null, places = null) {\n    let data;\n    let dataLatitude = div.dataset.latitude;\n    let dataLongitude = div.dataset.longitude;\n    let dataName = div.dataset.name;\n    let dataMarker = div.dataset.marker;\n    if (dataMarker == '') {\n        dataMarker = 'circle';\n    }\n    if (dataName == null) {\n        data = {\n            'type': 'FeatureCollection',\n            'features': [{\n                'type': 'Feature',\n                'geometry': {\n                    'type': 'Point',\n                    'coordinates': [dataLongitude, dataLatitude]\n                },\n                'properties': {\n                    'title': 'Current Location',\n                    'icon': 'circle-stroked',\n                    'uri': 'current-location'\n                }\n            }]\n        };\n    } else {\n        data = {\n            'type': 'FeatureCollection',\n            'features': [{\n                'type': 'Feature',\n                'geometry': {\n                    'type': 'Point',\n                    'coordinates': [dataLongitude, dataLatitude]\n                },\n                'properties': {\n                    'title': dataName,\n                    'icon': dataMarker,\n                }\n            }]\n        };\n    }\n    if (places != null) {\n        for (let place of places) {\n            let placeLongitude = parseLocation(place.location).longitude;\n            let placeLatitude = parseLocation(place.location).latitude;\n            data.features.push({\n                'type': 'Feature',\n                'geometry': {\n                    'type': 'Point',\n                    'coordinates': [placeLongitude, placeLatitude]\n                },\n                'properties': {\n                    'title': place.name,\n                    'icon': 'circle',\n                    'uri': place.slug\n                }\n            });\n        }\n    }\n    if (position != null) {\n        dataLongitude = position.coords.longitude;\n        dataLatitude = position.coords.latitude;\n    }\n    // eslint-disable-next-line no-undef\n    let map = new mapboxgl.Map({\n        container: div,\n        style: 'mapbox://styles/mapbox/streets-v9',\n        center: [dataLongitude, dataLatitude],\n        zoom: 15\n    });\n    if (position == null) {\n        map.scrollZoom.disable();\n    }\n    // eslint-disable-next-line no-undef\n    map.addControl(new mapboxgl.NavigationControl());\n    div.appendChild(makeMapMenu(map));\n    map.on('load', function () {\n        map.addLayer({\n            'id': 'points',\n            'type': 'symbol',\n            'source': {\n                'type': 'geojson',\n                'data': data\n            },\n            'layout': {\n                'icon-image': '{icon}-15',\n                'text-field': '{title}',\n                'text-offset': [0, 1]\n            }\n        });\n    });\n    if (position != null) {\n        map.on('click', function (e) {\n            let features = map.queryRenderedFeatures(e.point, {\n                layer: ['points']\n            });\n            // if there are features within the given radius of the click event,\n            // fly to the location of the click event\n            if (features.length) {\n                // Get coordinates from the symbol and center the map on those coordinates\n                map.flyTo({center: features[0].geometry.coordinates});\n                selectPlaceInForm(features[0].properties.uri);\n            }\n        });\n    }\n    if (data.features && data.features.length > 1) {\n        // eslint-disable-next-line no-undef\n        let bounds = new mapboxgl.LngLatBounds();\n        for (let feature of data.features) {\n            bounds.extend(feature.geometry.coordinates);\n        }\n        map.fitBounds(bounds, { padding: 65});\n    }\n\n    return map;\n}\n","//select-place.js\n\nexport default function selectPlaceInForm(uri) {\n    if (document.querySelector('select')) {\n        if (uri == 'current-location') {\n            document.querySelector('select [id=\"option-coords\"]').selected = true;\n        } else {\n            document.querySelector('select [value=\"' + uri + '\"]').selected = true;\n        }\n    }\n}\n","//places.js\n\nimport addMap from './mapbox-utils';\nimport getIcon from './edit-place-icon';\n\nlet div = document.querySelector('.map');\nlet map = addMap(div);\nlet isDragging;\nlet isCursorOverPoint;\nlet canvas = map.getCanvasContainer();\n\nlet selectElem = document.querySelector('select[name=\"icon\"]');\nselectElem.addEventListener('click', function () {\n    let newIcon = getIcon();\n    let source = map.getSource('points');\n    if (source._data.features[0].properties.icon != newIcon) {\n        source._data.features[0].properties.icon = newIcon;\n        map.getSource('points').setData(source._data);\n    }\n});\n\nfunction updateFormCoords(coords) {\n    let latInput = document.querySelector('#latitude');\n    let lonInput = document.querySelector('#longitude');\n    latInput.value = coords.lat.toPrecision(6);\n    lonInput.value = coords.lng.toPrecision(6);\n}\n\nfunction mouseDown() {\n    if (!isCursorOverPoint) return;\n\n    isDragging = true;\n\n    // Set a cursor indicator\n    canvas.style.cursor = 'grab';\n\n    // Mouse events\n    map.on('mousemove', onMove);\n    map.once('mouseup', onUp);\n}\n\nfunction onMove(e) {\n    if (!isDragging) return;\n    let coords = e.lngLat;\n    let source = map.getSource('points');\n\n    // Set a UI indicator for dragging.\n    canvas.style.cursor = 'grabbing';\n\n    // Update the Point feature in `geojson` coordinates\n    // and call setData to the source layer `point` on it.\n    source._data.features[0].geometry.coordinates = [coords.lng, coords.lat];\n    map.getSource('points').setData(source._data);\n}\n\nfunction onUp(e) {\n    if (!isDragging) return;\n    let coords = e.lngLat;\n\n    // Print the coordinates of where the point had\n    // finished being dragged to on the map.\n    updateFormCoords(coords);\n    canvas.style.cursor = '';\n    isDragging = false;\n\n    // Unbind mouse events\n    map.off('mousemove', onMove);\n}\n\n// When the cursor enters a feature in the point layer, prepare for dragging.\nmap.on('mouseenter', 'points', function() {\n    canvas.style.cursor = 'move';\n    isCursorOverPoint = true;\n    map.dragPan.disable();\n});\n\nmap.on('mouseleave', 'points', function() {\n    canvas.style.cursor = '';\n    isCursorOverPoint = false;\n    map.dragPan.enable();\n});\n\nmap.on('mousedown', mouseDown);\n","//edit-place-icon.js\n\nexport default function getIcon() {\n    let iconOption = document.querySelector('#icon');\n\n    return iconOption.value;\n}\n"]}