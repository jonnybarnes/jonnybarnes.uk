!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}({0:function(e,t,n){"use strict";function o(e){var t=/POINT\((.*)\)/.exec(e),n=t[1].split(" ")[0];return{latitude:t[1].split(" ")[1],longitude:n}}n.d(t,"a",function(){return c}),mapboxgl.accessToken="pk.eyJ1Ijoiam9ubnliYXJuZXMiLCJhIjoiY2l2cDhjYW04MDAwcjJ0cG1uZnhqcm82ayJ9.qA2zeVA-nsoMh9IFrd5KQw";function a(e){return e.split("-").map(function(e){var t=function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e),n=t[0],o=t.slice(1);return n.toUpperCase()+o.join("").toLowerCase()}).join(" ")}function i(e){var t=e._container.parentNode.querySelector(".u-url").getAttribute("href");return t.substr(t.lastIndexOf("/")+1)}var u=function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],r=document.createElement("div"),u=document.createElement("input"),l=n+i(e);u.setAttribute("id",l),u.setAttribute("type","radio"),u.setAttribute("name","map"+i(e)),u.setAttribute("value",n),1==o&&u.setAttribute("checked","checked"),u.addEventListener("click",function(){var t=e.getSource("points");e.setStyle("mapbox://styles/mapbox/"+n+"-v9"),e.on("style.load",function(){e.addLayer({id:"points",type:"symbol",source:{type:"geojson",data:t._data},layout:{"icon-image":"{icon}-15","text-field":"{title}","text-offset":[0,1]}})})});var c=document.createElement("label");c.setAttribute("for",n+i(e)),c.appendChild(document.createTextNode(a(n))),r.appendChild(u),r.appendChild(c),t.appendChild(r)},l=function(e){var t=document.createElement("fieldset"),n=document.createElement("legend"),o=document.createTextNode("Map Style");return n.appendChild(o),t.appendChild(n),t.classList.add("map-menu"),u(e,t,"streets",!0),u(e,t,"satellite-streets"),t};function c(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=e.dataset.latitude,i=e.dataset.longitude,u=e.dataset.name,c=e.dataset.marker;if(""==c&&(c="circle"),t=null==u?{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[i,a]},properties:{title:"Current Location",icon:"circle-stroked",uri:"current-location"}}]}:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[i,a]},properties:{title:u,icon:c}}]},null!=r){var s=!0,d=!1,p=void 0;try{for(var f,y=r[Symbol.iterator]();!(s=(f=y.next()).done);s=!0){var m=f.value,v=o(m.location).longitude,g=o(m.location).latitude;t.features.push({type:"Feature",geometry:{type:"Point",coordinates:[v,g]},properties:{title:m.name,icon:"circle",uri:m.slug}})}}catch(e){d=!0,p=e}finally{try{s||null==y.return||y.return()}finally{if(d)throw p}}}null!=n&&(i=n.coords.longitude,a=n.coords.latitude);var b=new mapboxgl.Map({container:e,style:"mapbox://styles/mapbox/streets-v9",center:[i,a],zoom:15});if(null==n&&b.scrollZoom.disable(),b.addControl(new mapboxgl.NavigationControl),e.appendChild(l(b)),b.on("load",function(){b.addLayer({id:"points",type:"symbol",source:{type:"geojson",data:t},layout:{"icon-image":"{icon}-15","text-field":"{title}","text-offset":[0,1]}})}),null!=n&&b.on("click",function(e){var t,n=b.queryRenderedFeatures(e.point,{layer:["points"]});n.length&&(b.flyTo({center:n[0].geometry.coordinates}),t=n[0].properties.uri,document.querySelector("select")&&("current-location"==t?document.querySelector('select [id="option-coords"]').selected=!0:document.querySelector('select [value="'+t+'"]').selected=!0))}),t.features&&1<t.features.length){var h=new mapboxgl.LngLatBounds,S=!0,x=!1,j=void 0;try{for(var C,A=t.features[Symbol.iterator]();!(S=(C=A.next()).done);S=!0){var P=C.value;h.extend(P.geometry.coordinates)}}catch(e){x=!0,j=e}finally{try{S||null==A.return||A.return()}finally{if(x)throw j}}b.fitBounds(h,{padding:65})}return b}},5:function(e,t,n){"use strict";n.r(t);var r,a,o=n(0),i=document.querySelector(".map"),u=Object(o.a)(i),l=u.getCanvasContainer();function c(e){if(r){var t=e.lngLat,n=u.getSource("points");l.style.cursor="grabbing",n._data.features[0].geometry.coordinates=[t.lng,t.lat],u.getSource("points").setData(n._data)}}function s(e){r&&(function(e){var t=document.querySelector("#latitude"),n=document.querySelector("#longitude");t.value=e.lat.toPrecision(6),n.value=e.lng.toPrecision(6)}(e.lngLat),l.style.cursor="",r=!1,u.off("mousemove",c))}document.querySelector('select[name="icon"]').addEventListener("click",function(){var e=document.querySelector("#icon").value,t=u.getSource("points");t._data.features[0].properties.icon!=e&&(t._data.features[0].properties.icon=e,u.getSource("points").setData(t._data))}),u.on("mouseenter","points",function(){l.style.cursor="move",a=!0,u.dragPan.disable()}),u.on("mouseleave","points",function(){l.style.cursor="",a=!1,u.dragPan.enable()}),u.on("mousedown",function(){a&&(r=!0,l.style.cursor="grab",u.on("mousemove",c),u.once("mouseup",s))})}});
//# sourceMappingURL=places.js.map